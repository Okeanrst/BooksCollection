<table class="table">
    <tr>
        <th><?php echo $this->translate('â„–') ?></th>
        <th><?php echo $this->translate('Title') ?></th>
        <th><?php echo $this->translate('Author') ?></th>
        <th><?php echo $this->translate('Rubric') ?></th>
        <th><?php echo $this->translate('Photo') ?></th>
        <th><?php echo $this->translate('File') ?></th>        
    </tr>
    <?php $i = 1;
    if (count($this->collection) > 0) ?>
        <?php foreach ($this->collection as $book): ?>
            <tr data-id="<?php $book->getId()?>">
                <td><?php echo $i++;?></td>
                <td><?php echo $book->getTitle(); ?></td>
                <td><a href="<?php echo $this->url('books/getbookbyauthor', array('id' => $this->entity->getAuthor()->getId())) ?>" >
                    <?php echo $book->getAuthor()->getLastName().' '.$this->entity->getAuthor()->getName() ?></a></td>
                <td><?php foreach ($book->getRubric() as $rubric) ?>
                    <a href="<?php echo $this->url('books/getbookbyrubric', array('id' => $rubric->getId())) ?>" ><?php echo $rubric->getTitle() ?></a>,
                    <?php endforeach ?>
                </td>
                <td><img src="<?php echo $book->getPhotofile()->getPath() ?>" alt="Books photo"></td>
                <td><a href="<?php echo $book->getBookfile()->getPath() ?>">View book</a></td>
            </tr>
        <?php endforeach ?>
    <?php endif ?>
</table>

<?php //echo $this->paginationControl($this->books, 'sliding', 'partial/paginator', array()); ?>